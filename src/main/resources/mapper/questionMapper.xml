<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.bit.backpackers.mapper.questionMapper">
  	<!-- 문의 전체 목록 조회 -->
  	<select id="listAll" resultType="com.bit.backpackers.mypage.qna.model.entity.QuestionVo">
  		select
  			item_name,
  			question_no,
  			question_title,
  			question_content
  			member_id,
  			questionDate,
  		from
  			tbl_question
  		join
  			tbl_item
  		on
  			tbl_question.item_no = tbl_item.item_no
  		order by
  			question_no desc,
  			questionDate desc
  	</select>
  	<!-- 문의 작성 -->
  	<insert id="create">
  		insert into tbl_question (
  			question_no,
  			question_title,
  			question_content,
  			member_id
  		) values (
  			(select isnull(max(question_no)+1, 1)from tbl_question),
  			#{question_title},
  			#{question_content}.
  			#{member_id}
  		)
  	</insert>
  	<!-- 문의글 상세보기 -->
  	<select id="detail" resultType="com.bit.backpackers.mypage.qna.model.entity.QuestionVo">
  		select * from tbl_question
  		where question_no=#{question_no}
  	</select>
  	<!-- 문의글 삭제 -->
  	<delete id="delete">
  		delete from tbl_question
  		where question_no=#{question_no}
  	</delete>
  </mapper>